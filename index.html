<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Portal</title>
    <link rel="icon" type="image/png" href="https://media.discordapp.net/attachments/1419317839269073016/1434615119182172170/cirkledevlogopng1.png?ex=6908f8f2&is=6907a772&hm=dee8039a86a5e74c9242a5144692e59da2b3aa99a3a910d0cafdb98d26469f35&=&format=webp&quality=lossless">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar (desktop) / Topbar (mobile) -->
    <div id="sidebar" class="sidebar hidden">
        <div class="sidebar-header">
            <img id="sidebarProfilePic" class="profile-img" src="" alt="Profile">
        </div>
        <button class="sidebar-toggle">â˜°</button>
        <div id="sidebarNav">
            <button id="homeBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg> Home</button>
            <button id="myRolesBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> My Roles</button>
            <button id="absencesBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> Absences</button>
            <button id="payslipsBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> Payslips</button>
            <button id="disciplinariesBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> Disciplinaries</button>
            <button id="timeclockBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> Timeclock</button>
            <button id="eventsBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line><path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"></path></svg> Events</button>
            <button id="mailBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Mail</button>
            <button id="clickupBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg> ClickUp</button>
            <button id="handbooksBtn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> Handbooks</button>
        </div>
        <div class="sidebar-footer">
            <button id="logoutBtn" class="action-btn logout-btn" title="Log Out">
                <span class="logout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg></span>
                <span>Log Out</span>
            </button>
        </div>
    </div>

    <!-- Notification Button (Bottom Left Circle) -->
    <button id="notificationBtn" class="notification-btn" aria-label="Notifications">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
        <span id="notificationBadge" class="notification-badge hidden">0</span>
    </button>

    <!-- Notifications Panel -->
    <div id="notificationPanel" class="notifications-panel hidden">
        <div class="notifications-header">
            <h3>Notifications</h3>
            <button id="closeNotifications" class="close-notifications-btn">&times;</button>
        </div>
        <ul id="notificationList"></ul>
    </div>

    <!-- Modals -->
    <div id="alertModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="alertMessage"></div>
        </div>
    </div>
    <div id="composeMailModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="mail-compose">
                <h2>Compose Mail</h2>
                <select id="mailRecipients" multiple required>
                    <option value="" disabled>Select Recipients</option>
                </select>
                <input type="text" id="mailSubject" placeholder="Subject">
                <textarea id="mailContent" placeholder="Message"></textarea>
                <input type="file" id="mailAttachments" multiple>
                <div id="mailError" class="mail-error hidden">Select at least one participant</div>
                <div class="mail-actions">
                    <button id="sendMailBtn">Send</button>
                    <button id="saveDraftBtn">Save to Drafts</button>
                </div>
            </div>
        </div>
    </div>
    <div id="resetProfileModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Reset Profile</h2>
            <p>Are you sure you want to reset your profile? This cannot be undone.</p>
            <button id="confirmResetBtn">Confirm</button>
        </div>
    </div>
    <div id="absenceRequestModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Request Absence</h2>
            <select id="absenceType">
                <option value="Illness">Illness</option>
                <option value="Vacation">Vacation</option>
                <option value="Personal">Personal</option>
                <option value="Education">Education</option>
                <option value="No Device/Wifi">No Device/Wifi</option>
                <option value="Other">Other (specify in comment)</option>
            </select>
            <input type="date" id="absenceStartDate">
            <input type="date" id="absenceEndDate">
            <textarea id="absenceComment" placeholder="Comment"></textarea>
            <p id="absenceDays">Total Days: 0</p>
            <button id="submitAbsenceBtn">Submit</button>
        </div>
    </div>
    <div id="deptChangeModal" class="modal">
        <div class="modal-content request-modal">
            <span class="close">&times;</span>
            <h2>Request Department Change</h2>
            <div class="request-field">
                <label for="deptSelect">New Department:</label>
                <select id="deptSelect">
                    <option value="Customer Relations Department">Customer Relations</option>
                    <option value="Development Department">Development</option>
                    <option value="Careers Department">Careers</option>
                </select>
            </div>
            <div class="request-field">
                <label for="deptChangeReason">Reason:</label>
                <textarea id="deptChangeReason" placeholder="Please explain why you need to change departments"></textarea>
            </div>
            <div class="request-buttons">
                <button id="deptRequestBtn" class="submit-request-btn">Submit Request</button>
                <button id="deptCancelBtn" class="cancel-request-btn">Cancel</button>
            </div>
            <div id="deptChangeSuccess" class="request-success hidden">Request submitted successfully!</div>
        </div>
    </div>
    <div id="viewMailModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="viewMailContent"></div>
            <button id="replyMailBtn" class="hidden">Reply</button>
        </div>
    </div>
    <div id="replyMailModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Reply to Mail</h2>
            <textarea id="replyContent" placeholder="Your reply..."></textarea>
            <button id="sendReplyBtn">Send</button>
        </div>
    </div>
    <div id="absenceDetailModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Absence Details</h2>
            <div id="absenceDetailContent" class="absence-details">
                <p><strong>Type:</strong> <span id="absenceDetailType"></span></p>
                <p><strong>Start Date:</strong> <span id="absenceDetailStartDate"></span></p>
                <p><strong>End Date:</strong> <span id="absenceDetailEndDate"></span></p>
                <p><strong>Total Days:</strong> <span id="absenceDetailDays"></span></p>
                <p><strong>Reason:</strong> <span id="absenceDetailReason"></span></p>
                <p><strong>Comment:</strong> <span id="absenceDetailComment"></span></p>
            </div>
            <button id="cancelAbsenceBtn" class="cancel-absence-btn hidden">Cancel Absence</button>
            <button id="deleteAbsenceBtn" class="delete-absence-btn hidden">Delete Absence</button>
        </div>
    </div>
    <div id="confirmCancelAbsenceModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Confirm Absence Cancellation</h2>
            <p>Are you sure you want to cancel your absence?</p>
            <button id="confirmCancelAbsenceBtn" class="cancel-absence-btn">Cancel Absence</button>
            <button id="noCancelAbsenceBtn">No</button>
        </div>
    </div>
    <div id="payslipViewModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Payslip Details</h2>
            <div id="payslipViewContent">
                <p><strong>Date:</strong> <span id="payslipDate"></span></p>
                <p><strong>Link:</strong> <a id="payslipLink" href="#" target="_blank">View Payslip</a></p>
                <p><strong>Comment:</strong> <span id="payslipComment"></span></p>
                <p><strong>Assigned by:</strong> <span id="payslipAssignedBy"></span></p>
            </div>
        </div>
    </div>

    <!-- Name Change Request Modal -->
    <div id="nameChangeModal" class="modal">
        <div class="modal-content request-modal">
            <span class="close">&times;</span>
            <h2>Request Name Change</h2>
            <div class="request-field">
                <label for="newNameInput">New Name:</label>
                <input type="text" id="newNameInput" placeholder="Enter your new name">
            </div>
            <div class="request-field">
                <label for="nameChangeReason">Reason:</label>
                <textarea id="nameChangeReason" placeholder="Please explain why you need to change your name"></textarea>
            </div>
            <div class="request-buttons">
                <button id="submitNameChangeBtn" class="submit-request-btn">Submit Request</button>
                <button id="cancelNameChangeBtn" class="cancel-request-btn">Cancel</button>
            </div>
            <div id="nameChangeSuccess" class="request-success hidden">Request submitted successfully!</div>
        </div>
    </div>

    <!-- Email Change Request Modal -->
    <div id="emailChangeModal" class="modal">
        <div class="modal-content request-modal">
            <span class="close">&times;</span>
            <h2>Request Email Change</h2>
            <div class="request-field">
                <label for="newEmailInput">New Email:</label>
                <input type="email" id="newEmailInput" placeholder="Enter your new email">
            </div>
            <div class="request-field">
                <label for="emailChangeReason">Reason:</label>
                <textarea id="emailChangeReason" placeholder="Please explain why you need to change your email"></textarea>
            </div>
            <div class="request-buttons">
                <button id="submitEmailChangeBtn" class="submit-request-btn">Submit Request</button>
                <button id="cancelEmailChangeBtn" class="cancel-request-btn">Cancel</button>
            </div>
            <div id="emailChangeSuccess" class="request-success hidden">Request submitted successfully!</div>
        </div>
    </div>

    <!-- Screens -->
    <div id="discordScreen" class="screen">
        <div class="container">
            <img class="logo" src="https://media.discordapp.net/attachments/1419317839269073016/1434615053784715305/Emailfooterforwebmail.png?ex=6908f8e2&is=6907a762&hm=053c83fa3cdb136b3f4fa5cb1a05a6efe21b9924f2bdcc5baa8ce54fa47288d6&=&format=webp&quality=lossless" alt="Logo">
            <h1>Welcome, please log in using Discord</h1>
            <button id="discordLoginBtn">Login with Discord</button>
        </div>
    </div>
    <div id="searchingScreen" class="screen loading-screen">
        <div class="container black-bg">
            <h2>Searching...</h2>
            <div class="spinner"></div>
        </div>
    </div>
    <div id="rolesScreen" class="screen loading-screen">
        <div class="container black-bg">
            <h2>Checking Roles...</h2>
            <div class="spinner"></div>
        </div>
    </div>
    <div id="cherryScreen" class="screen loading-screen">
        <div class="container black-bg">
            <h2>Verifying...</h2>
            <div class="spinner"></div>
        </div>
    </div>
    <div id="confirmScreen" class="screen">
        <div class="container">
            <h2>Profile Found</h2>
            <p>Please select "Finalise" to continue.</p>
            <button id="continueBtn">Finalise</button>
        </div>
    </div>
    <div id="setupWelcomeScreen" class="screen">
        <div class="container">
            <h2>Welcome!</h2>
            <p>Please set up your profile to continue.</p>
            <button id="setupStartBtn">Start</button>
        </div>
    </div>
    <div id="setupEmailScreen" class="screen">
        <div class="container">
            <h2>Please add your email</h2>
            <input type="email" id="setupEmailInput" placeholder="Email">
            <button id="setupEmailContinueBtn">Continue</button>
        </div>
    </div>
    <div id="setupNameScreen" class="screen">
        <div class="container">
            <h2>Let's give you a proper identity</h2>
            <p>Please insert your first and last name (not your real one, the one you use in the server)</p>
            <input type="text" id="setupNameInput" placeholder="First Last">
            <button id="setupNameContinueBtn">Continue</button>
        </div>
    </div>
    <div id="setupPreferencesScreen" class="screen">
        <div class="container">
            <h2>Let's set up your preferences</h2>
            <div class="preference-group">
                <h3>Timezone</h3>
                <select id="setupTimezoneSelect">
                    <option value="UTC">UTC (Coordinated Universal Time)</option>
                    <option value="America/New_York">Eastern Time (ET)</option>
                    <option value="America/Chicago">Central Time (CT)</option>
                    <option value="America/Denver">Mountain Time (MT)</option>
                    <option value="America/Los_Angeles">Pacific Time (PT)</option>
                    <option value="Europe/London">British Time (GMT/BST)</option>
                    <option value="Europe/Paris">Central European Time (CET)</option>
                    <option value="Europe/Berlin">Central European Time (CET)</option>
                    <option value="Asia/Tokyo">Japan Standard Time (JST)</option>
                    <option value="Asia/Shanghai">China Standard Time (CST)</option>
                    <option value="Australia/Sydney">Australian Eastern Time (AET)</option>
                </select>
            </div>
            <div class="preference-group">
                <h3>Date Format</h3>
                <label><input type="radio" name="dateFormat" value="MM/DD/YYYY"> MM/DD/YYYY (US)</label>
                <label><input type="radio" name="dateFormat" value="DD/MM/YYYY"> DD/MM/YYYY (UK/EU)</label>
                <label><input type="radio" name="dateFormat" value="YYYY-MM-DD"> YYYY-MM-DD (ISO)</label>
            </div>
            <div class="preference-group">
                <h3>Country</h3>
                <select id="setupCountrySelect">
                    <option value="US">United States</option>
                    <option value="UK">United Kingdom</option>
                    <option value="CA">Canada</option>
                    <option value="AU">Australia</option>
                    <option value="DE">Germany</option>
                    <option value="FR">France</option>
                    <option value="IT">Italy</option>
                    <option value="ES">Spain</option>
                    <option value="NL">Netherlands</option>
                    <option value="JP">Japan</option>
                    <option value="CN">China</option>
                    <option value="IE">Ireland</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <button id="setupPreferencesContinueBtn">Continue</button>
        </div>
    </div>
    <div id="setupDepartmentScreen" class="screen">
        <div class="container">
            <h2>Finally, let's select your department</h2>
            <label><input type="radio" name="department" value="Development Department"> Development</label>
            <label><input type="radio" name="department" value="Customer Relations Department"> Customer Relations</label>
            <label><input type="radio" name="department" value="Finance Department"> Finance</label>
            <button id="setupDepartmentContinueBtn">Continue</button>
        </div>
    </div>
    <div id="setupVerifyScreen" class="screen loading-screen">
        <div class="container black-bg">
            <h2>Verifying...</h2>
            <div class="spinner"></div>
            <p class="loading-text">Just setting up your profile</p>
            <p class="loading-text">Creating your unique interface</p>
            <p class="loading-text">Finalising</p>
        </div>
    </div>
    <div id="setupCompleteScreen" class="screen">
        <div class="container">
            <h2>Welcome, <span id="setupWelcomeName"></span>, to your new Staff Portal!</h2>
            <p>Let's take a look around!</p>
            <button id="setupCompleteBtn">Continue</button>
        </div>
    </div>
    <div id="portalWelcomeScreen" class="screen">
        <div class="container">
            <img id="portalWelcomeProfilePic" class="profile-img" src="" alt="Profile" style="display:block;margin:0 auto 1em auto;width:100px;height:100px;border-radius:50%;object-fit:cover;">
            <h2>Welcome back, <span id="portalWelcomeName"></span>!</h2>
            <p>Previous login: <span id="portalLastLogin"></span></p>
            <button id="portalLoginBtn">Log In</button>
        </div>
    </div>
    
    <!-- Mobile Nav Button (visible on all pages, only on mobile) -->
    <button id="mobileNavBtn" class="mobile-nav-btn">
        <svg viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>
    
    <div id="mainMenuScreen" class="screen">
        <div class="container">
            <div class="user-header">
                <img id="mainProfilePic" class="profile-img" src="" alt="Profile">
                <div>
                    <h2 id="greeting"></h2>
                    <p id="lastLogin"></p>
                </div>
                <p id="dateTime" style="margin-left: auto;"></p>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>Total Absences</h3>
                    <p id="totalAbsences">0</p>
                    <h3><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>Total Absence Days</h3>
                    <p id="totalAbsenceDays">0</p>
                </div>
                <div class="stat-card">
                    <h3><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>Department</h3>
                    <p id="currentDepartment">Development</p>
                    <p class="hint">Wish to change? Click the button below to go to your profile settings and request a change.</p>
                    <button id="changeDepartmentBtn">Change My Department</button>
                </div>
            </div>
        </div>
    </div>
        <div id="myProfileScreen" class="screen">
        <div class="container" style="max-width: 250%; margin: 0 auto;">
            <div style="display: flex; flex-direction: column; gap: 20px; height: 100%;">
                <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <h2 style="margin: 0 0 8px 0; font-size: 28px; font-weight: 600;">Profile Settings</h2>
                    <p style="margin: 0; color: #666; font-size: 15px; line-height: 1.5;">
                        Manage your profile information, theme preferences, and request changes to your account settings.
                    </p>
                </div>
                
                <div style="flex: 1; background: white; border-radius: 12px; overflow: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.08); padding: 30px;">
                    <div style="max-width: 800px; display: flex; flex-direction: column; gap: 24px;">
                        
                        <!-- Profile Information Section -->
                        <div style="display: flex; flex-direction: column; gap: 16px;">
                            <h3 style="margin: 0; font-size: 18px; font-weight: 600; color: #111827; border-bottom: 2px solid #7c3aed; padding-bottom: 8px;">Profile Information</h3>
                            
                            <div class="profile-info-row" style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: #f9fafb; border-radius: 8px;">
                                <span style="font-weight: 600; color: #6b7280;">Name:</span>
                                <span id="profileName" style="color: #111827; flex: 1; margin: 0 20px; text-align: right;">Not set</span>
                                <button class="pencil-btn" id="editNameBtn" title="Request Name Change" style="background: #7c3aed; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">âœŽ Edit</button>
                            </div>
                            
                            <div class="profile-info-row" style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: #f9fafb; border-radius: 8px;">
                                <span style="font-weight: 600; color: #6b7280;">Department:</span>
                                <span id="profileDepartment" style="color: #111827; flex: 1; margin: 0 20px; text-align: right;">Not set</span>
                                <button class="pencil-btn" id="editDeptBtn" title="Request Department Change" style="background: #7c3aed; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">âœŽ Edit</button>
                            </div>
                            
                            <div class="profile-info-row" style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: #f9fafb; border-radius: 8px;">
                                <span style="font-weight: 600; color: #6b7280;">Email:</span>
                                <span id="profileEmail" style="color: #111827; flex: 1; margin: 0 20px; text-align: right;">Not set</span>
                                <button class="pencil-btn" id="editEmailBtn" title="Request Email Change" style="background: #7c3aed; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">âœŽ Edit</button>
                            </div>
                            
                            <div class="profile-info-row" style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: #f9fafb; border-radius: 8px;">
                                <span style="font-weight: 600; color: #6b7280;">Country:</span>
                                <span id="profileCountry" style="color: #111827; flex: 1; margin: 0 20px; text-align: right;">Not set</span>
                                <button class="pencil-btn" id="editCountryBtn" title="Request Country Change" style="background: #7c3aed; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">âœŽ Edit</button>
                            </div>
                            
                            <div class="profile-info-row" style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: #f9fafb; border-radius: 8px;">
                                <span style="font-weight: 600; color: #6b7280;">Timezone:</span>
                                <span id="profileTimezone" style="color: #111827; flex: 1; margin: 0 20px; text-align: right;">Not set</span>
                                <button class="pencil-btn" id="editTimezoneBtn" title="Request Timezone Change" style="background: #7c3aed; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500;">âœŽ Edit</button>
                            </div>
                        </div>
                        
                        <!-- Theme Section -->
                        <div style="display: flex; flex-direction: column; gap: 16px;">
                            <h3 style="margin: 0; font-size: 18px; font-weight: 600; color: #111827; border-bottom: 2px solid #7c3aed; padding-bottom: 8px;">Appearance</h3>
                            
                            <div class="profile-info-row" style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: #f9fafb; border-radius: 8px;">
                                <span style="font-weight: 600; color: #6b7280;">Theme:</span>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="modeToggle">
                                        <span class="slider">ðŸŒ™</span>
                                    </label>
                                    <span id="themeText" style="color: #6b7280;">Light Mode</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Actions Section -->
                        <div style="padding-top: 8px;">
                            <button id="resetProfileBtn" style="width: 100%; background: #ef4444; color: white; border: none; padding: 14px; border-radius: 8px; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.2s ease;" onmouseover="this.style.background='#dc2626'" onmouseout="this.style.background='#ef4444'">Reset Profile</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
                    </div>
                </div>
                
                <div id="profileDebug" style="margin-top:16px;color:#b71c1c;font-size:0.95em;"></div>
                <div id="authDebug" style="margin-top:8px;color:#1976d2;font-size:0.95em;"></div>
            </div>
        </div>
    </div>
    <div id="myRolesScreen" class="screen">
        <div class="container">
            <h2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>My Roles</h2>
            <ul id="rolesList"></ul>
        </div>
    </div>
    <div id="absencesScreen" class="screen">
        <div style="padding: 40px 0 30px 0; height: 100%; display: flex; flex-direction: column; align-items: center;">
            <div style="width: 190%; max-width: 190%; height: 100%; display: flex; flex-direction: column;">
                <div style="margin-bottom: 20px; padding-left: 20px;">
                    <h2 style="margin: 0 0 10px 0;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>Absences</h2>
                    <p style="margin: 0 0 15px 0; color: #666; font-size: 14px;">View a list of your absences either Pending, Approved, Rejected or Archived! Please do not delete archived absences.</p>
                    <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px; flex-wrap: wrap;">
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span style="width: 10px; height: 10px; border-radius: 50%; background: #4CAF50; display: inline-block;"></span>
                            <span style="font-size: 13px; color: #666;">Approved</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span style="width: 10px; height: 10px; border-radius: 50%; background: #f44336; display: inline-block;"></span>
                            <span style="font-size: 13px; color: #666;">Rejected</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span style="width: 10px; height: 10px; border-radius: 50%; background: #FF9800; display: inline-block;"></span>
                            <span style="font-size: 13px; color: #666;">Pending</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 6px;">
                            <span style="width: 10px; height: 10px; border-radius: 50%; background: #9e9e9e; display: inline-block;"></span>
                            <span style="font-size: 13px; color: #666;">Archived</span>
                        </div>
                    </div>
                    <div class="absence-tabs">
                        <button class="absence-tab-btn active" data-tab="approved"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><polyline points="20 6 9 17 4 12"></polyline></svg>Approved</button>
                        <button class="absence-tab-btn" data-tab="rejected"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>Rejected</button>
                        <button class="absence-tab-btn" data-tab="pending"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>Pending</button>
                        <button class="absence-tab-btn" data-tab="archived"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line></svg>Archived</button>
                        <div class="absence-tab-slider"></div>
                    </div>
                </div>
                <div style="flex: 1; background: white; border-radius: 12px; overflow: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.08); position: relative;">
                    <div class="absence-content" style="padding: 20px;">
                        <div id="approvedFolder" class="absence-folder active">
                            <ul id="approvedAbsences" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                        <div id="rejectedFolder" class="absence-folder">
                            <ul id="rejectedAbsences" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                        <div id="pendingFolder" class="absence-folder">
                            <ul id="pendingAbsences" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                        <div id="archivedFolder" class="absence-folder">
                            <ul id="archivedAbsences" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                    </div>
                    <button id="requestAbsenceBtn" style="position: absolute; bottom: 20px; left: 20px; background: #1976d2; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; box-shadow: 0 2px 8px rgba(25, 118, 210, 0.3); transition: all 0.2s ease; display: flex; align-items: center; gap: 8px;" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 4px 12px rgba(25, 118, 210, 0.4)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 2px 8px rgba(25, 118, 210, 0.3)'">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        Request Absence
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="payslipsScreen" class="screen">
        <div style="padding: 40px 0 30px 0; height: 100%; display: flex; flex-direction: column; align-items: center;">
            <div style="width: 250%; max-width: 250%; height: 100%; display: flex; flex-direction: column;">
                <div style="margin-bottom: 20px; padding-left: 20px;">
                    <h2 style="margin: 0 0 10px 0;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>Payslips</h2>
                    <p style="color: #666; font-size: 14px; margin: 0;">View payslips that have been assigned to you here. Click into them to view more details</p>
                </div>
                <div id="payslipsContent" style="width: 100%; flex: 1; min-height: 600px; background: white; border-radius: 12px; box-shadow: 0 4px 16px rgba(0,0,0,0.08); overflow-y: auto; padding: 0;"></div>
            </div>
        </div>
    </div>
    <div id="disciplinariesScreen" class="screen">
        <div style="padding: 40px 0 30px 0; height: 100%; display: flex; flex-direction: column; align-items: center;">
            <div style="width: 120%; max-width: 120%; height: 100%; display: flex; flex-direction: column;">
                <div style="margin-bottom: 20px; padding-left: 20px;">
                    <h2 style="margin: 0 0 10px 0;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>Disciplinaries</h2>
                    <p style="color: #666; font-size: 14px; margin: 0;">View your strikes and disciplinaries here. To appeal these, please contact your Department Head or the OP who assigned this to you</p>
                </div>
                <div style="width: 100%; flex: 1; min-height: 600px; background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow-y: auto;">
                    <div id="disciplinariesContent" style="height: 100%;">
                        <div id="disciplinariesList" class="disciplinaries-list">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                        <div id="disciplinariesEmpty" class="empty-state hidden">
                            <p>No disciplinaries found.</p>
                        </div>
                        <div id="disciplinariesLoading" class="loading-state">
                            <p>Loading disciplinaries...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="timeclockScreen" class="screen">
        <div style="padding: 40px 0 30px 0; height: 100%; display: flex; flex-direction: column; align-items: center;">
            <div style="width: 250%; max-width: 250%; height: 100%; display: flex; flex-direction: column;">
                <h2 style="margin: 0 0 30px 0; padding-left: 20px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>Timeclock</h2>
                <div style="flex: 1; background: white; border-radius: 16px; padding: 40px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: flex; flex-direction: column; overflow-y: auto;">
                    <div id="clockDisplay" style="text-align: center; font-size: 48px; font-weight: bold; margin-bottom: 30px; padding: 30px; background: #f5f5f5; border-radius: 12px;"></div>
                    <div style="display: flex; gap: 20px; justify-content: center; margin-bottom: 30px;">
                        <button id="clockInBtn" style="flex: 1; max-width: 300px; padding: 20px 50px; font-size: 18px; font-weight: 600; border-radius: 12px;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>Clock In</button>
                        <button id="clockOutBtn" class="hidden" style="flex: 1; max-width: 300px; padding: 20px 50px; font-size: 18px; font-weight: 600; border-radius: 12px;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>Clock Out</button>
                    </div>
                    <div id="sessionInfo" class="session-item hidden" style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin-bottom: 30px;"></div>
                    <h3 style="margin: 20px 0 20px 0; font-size: 24px;"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path></svg>Previous Sessions</h3>
                    <div id="previousSessions" class="session-list" style="flex: 1; overflow-y: auto;"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="eventsScreen" class="screen">
        <div class="container">
            <h2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line><path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"></path></svg>Events</h2>
            <div id="eventsContainer"></div>
        </div>
    </div>
    <div id="mailScreen" class="screen">
        <div style="padding: 40px 0 30px 0; height: 100%; display: flex; flex-direction: column; align-items: center;">
            <div style="width: 250%; max-width: 250%; height: 100%; display: flex; flex-direction: column;">
                <div style="margin-bottom: 20px; padding-left: 20px;">
                    <h2 style="margin: 0 0 10px 0;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>Mail</h2>
                    <p style="margin: 0 0 15px 0; color: #666; font-size: 14px;">Compose your mail, view your drafts, check your inbox, and stay connected with your colleagues!</p>
                    <button id="composeMailBtn" style="background: #1976d2; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-bottom: 15px; box-shadow: 0 2px 6px rgba(25, 118, 210, 0.3); transition: all 0.2s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3h18v18H3zM3 3l9 9m9-9l-9 9"></path></svg>
                        Compose Mail
                    </button>
                    <div class="mail-tabs">
                        <button class="tab-btn active" data-tab="inbox"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path></svg>Inbox</button>
                        <button class="tab-btn" data-tab="sent"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>Sent</button>
                        <button class="tab-btn" data-tab="drafts"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 6px;"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>Drafts</button>
                        <div class="tab-slider"></div>
                    </div>
                </div>
                <div style="flex: 1; background: white; border-radius: 12px; overflow: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div class="mail-content" style="padding: 20px;">
                        <div id="inboxFolder" class="mail-folder active">
                            <ul id="inboxContent" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                        <div id="sentFolder" class="mail-folder">
                            <ul id="sentContent" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                        <div id="draftsFolder" class="mail-folder">
                            <ul id="draftsContent" style="list-style: none; padding: 0; margin: 0;"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ClickUp Screen -->
    <div id="clickupScreen" class="screen">
        <div class="container" style="max-width: 250%; margin: 0 auto;">
            <div style="display: flex; flex-direction: column; gap: 20px; height: 100%;">
                <div style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <h2 style="margin: 0 0 8px 0; font-size: 28px; font-weight: 600;">ClickUp Tasks</h2>
                    <p style="margin: 0; color: #666; font-size: 15px; line-height: 1.5;">
                        Manage your ClickUp tasks directly from the portal. Connect your account to view and update tasks.
                    </p>
                </div>
                
                <div id="clickupConnectionSection" style="background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                    <div id="clickupDisconnected">
                        <h3 style="margin: 0 0 12px 0; font-size: 18px; font-weight: 600;">Connect Your ClickUp Account</h3>
                        <p style="margin: 0 0 16px 0; color: #666; font-size: 14px;">
                            Enter your ClickUp Personal API Token to get started. You can find this in your ClickUp account settings under "Apps".
                        </p>
                        <div style="display: flex; flex-direction: column; gap: 12px;">
                            <textarea id="clickupTokenInput" placeholder="Paste your Personal API Token here..." style="width: 100%; min-height: 80px; padding: 12px 16px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; font-family: 'Inter', sans-serif; resize: vertical;"></textarea>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <p style="margin: 0; font-size: 12px; color: #999;">
                                    <a href="https://app.clickup.com/settings/apps" target="_blank" style="color: #7c3aed;">Get your API token here</a>
                                </p>
                                <button id="clickupConnectBtn" style="padding: 12px 24px; background: #7c3aed; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; white-space: nowrap;">
                                    Connect
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="clickupConnected" style="display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h3 style="margin: 0 0 4px 0; font-size: 18px; font-weight: 600;">âœ“ Connected to ClickUp</h3>
                                <p style="margin: 0; color: #666; font-size: 14px;" id="clickupWorkspaceName">Loading workspace...</p>
                            </div>
                            <button id="clickupDisconnectBtn" style="padding: 10px 20px; background: #ef4444; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">
                                Disconnect
                            </button>
                        </div>
                    </div>
                </div>
                
                <div id="clickupTasksSection" style="display: none; flex: 1; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.08); display: flex; flex-direction: column;">
                    <div style="padding: 16px 20px; border-bottom: 1px solid #eee;">
                        <div class="clickup-tabs" style="display: flex; gap: 8px;">
                            <button class="clickup-tab-btn active" data-status="all" style="padding: 8px 16px; border: none; background: #f3f4f6; color: #374151; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                All Tasks
                            </button>
                            <button class="clickup-tab-btn" data-status="to do" style="padding: 8px 16px; border: none; background: transparent; color: #6b7280; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                To Do
                            </button>
                            <button class="clickup-tab-btn" data-status="in progress" style="padding: 8px 16px; border: none; background: transparent; color: #6b7280; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                In Progress
                            </button>
                            <button class="clickup-tab-btn" data-status="complete" style="padding: 8px 16px; border: none; background: transparent; color: #6b7280; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                Complete
                            </button>
                            <button id="clickupRefreshBtn" style="margin-left: auto; padding: 8px 16px; border: none; background: transparent; color: #7c3aed; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
                                ðŸ”„ Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div style="flex: 1; overflow: auto; padding: 20px;">
                        <div id="clickupTasksContainer">
                            <!-- Tasks will be rendered here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="suspendedScreen" class="screen">
        <div class="container suspended-portal">
            <h2>ðŸš« Portal Suspended</h2>
            <div class="suspended-message">
                <p>Your portal is temporarily suspended.</p>
                <p>Please contact <strong>Marcus Ray</strong> for more details.</p>
            </div>
            <div class="suspended-contact">
                <p>ðŸ“§ Contact: <a href="mailto:marcus@cirkledevelopment.co.uk">marcus@cirkledevelopment.co.uk</a></p>
                <p>ðŸ’¬ Discord: Marcus Ray</p>
            </div>
        </div>
    </div>
    <div id="goodbyeScreen" class="screen">
        <div class="container">
            <h2>Goodbye, <span id="goodbyeName"></span></h2>
        </div>
    </div>
    <div id="mailDeliveryAnimation" class="mail-delivery-animation hidden"></div>

    <footer>Â© Cirkle Development 2024</footer>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>